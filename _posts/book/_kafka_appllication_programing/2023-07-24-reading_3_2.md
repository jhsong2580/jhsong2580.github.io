---
title:  "[카프카] 토픽과 파티션"
excerpt: "아파치 카프카 애플리케이션 프로그래밍 3장"
post-order: 2                              

tag : ["kafka"]
sidebar:
  nav: "docs"
categories: ["book", "_kafka_application_programing"]


date: 2023-07-24
last_modified_at: 2023-07-24
---
# 2. 토픽과 파티션

태그: 완료
날짜: 2023년 7월 18일 오후 1:36

### 토픽

---

- 카프카에서 데이터를 구분하기 위한 단위
- 토픽은 `1개 이상의 파티션`을 소유하고 있다.
- 파티션에는 프로듀서가 보낸 데이터들이 들어가 저장되는데, 이 데이터를 `레코드`라 부른다.

### 토픽 이름 제약 조건

---

1. 빈 문자열 토픽 이름은 지원하지 않는다
2. 토픽 이름은 . 나 ..로 생성될수 없다
3. 토픽 이름의 길이는 249자 미만으로 생성되어야 한다
4. 토픽 이름은 [A-Z][a-z][0-9][_-] 조합으로 생성될수 있다 .
5. 카프카 내부 로직 관리 목적으로 사용되는 토픽(__consumer_offsets, __transaction_state)과는 중복되면 안된다.
6. 토픽 이름에 ., _가 동시에 들어가면 안된다. (WARNING발생)
7. 생성된 토픽 이름을 . 와 _ 를 서로 치환했을때 동일하다면 생성할수 없다
  - to.pic == to_pic

### 의미 있는 토픽 이름 작명 방법

토픽의 이름에 포함되면 좋은 내용

1. 어떤 개발환경에서 사용되는지?
2. 어떤 애플리케이션에서 어떤 데이터 타입으로 사용되는지?
3. 전사적으로 사용한다면 어느 팀이 사용하는지?
4. 카프카 클러스터를 2대 이상 운용할때는 클러스터를 구분하기 위해 카프카 클러스터 이름을 넣을수도 있다.

예시

```bash
<환경>.<팀명>.<어플리케이션명>.<메세지타입>
prd.marketing-team.sms-platform.json

<프로젝트명>.<서비스명>.<환경>.<이벤트명>
commerce.payment.prd.notification
```
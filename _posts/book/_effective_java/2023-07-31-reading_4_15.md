---
title:  "[ITEM 15] 클래스와 멤버의 접근 권한을 최소화하라"
excerpt: "이펙티브 자바 4장(클래스와 인터페이스)"
post-order: 1                                

tag : ["effective_java"]
sidebar:
  nav: "docs"
categories: ["book", "_effective_java"]


date: 2023-07-31
last_modified_at: 2023-07-31
---
# 15. 클래스와 멤버의 접근 권한을 최소화하라


### 잘 설계된 컴포넌트는 내부 구현과 API를 깔끔히 분리한다.

---

오직 API를 사용해서만 다른 컴포넌트와 소통하며 서로의 내부 동작 방식에는 전혀 개의치 않는다.

- 캡슐화 라고 하는 이 개념은 소프트웨어 설계의 근간이 되는 원리다.

### 캡슐화

---

OOP의 4대원칙중 하나로, 내부 구현 방식을 외부로 노출시키지 않고 특정 API로만(getter등)접근할수 있게 만드는 방식. 이렇게 하면 객체 내부의 상태를 직접 조작할수 없고, 메서드로만 변경/조회가 가능하다.

- 이렇게 감싸면 클래스 내 변경시 외부 영향도가 적어질수 있다.

**장점**

1. 시스템 개발 속도를 높인다.
2. 시스템 관리 비용을 낮춘다.
  1. 각 컴포넌트를 더 빨리 파악하여 디버깅 가능
3. 성능 최적화에 도움을 준다.
  1. 다른 컴포넌트에 영향을 주지 않고, 해당 컴포넌트만 최적화 할수 있다.

   → 캡슐화가 잘 되어있는 컴포넌트는 다른 컴포넌트와 연관이 매우 적어 리팩토링이 쉬움

4. 소프트웨어 재사용성을 높인다.
  1. 외부에 의존하지 않고, 독자적으로 동작하는 컴포넌트는 낯선 환경에서도 재사용될 확률이 크다.
5. 큰 시스템을 제작하는 난이도를 낮춰준다.
  1. 시스템 전체가 아직 완성되지 않았음에도, 개별 컴포넌트의 동작을 검증할수 있다.

### 캡슐화의 효율적 구현을 위한 “접근제한자” 사용

---

1. 모든 클래스와 멤버의 접근성을 가능한 좁혀야 한다.
  - 소프트웨어가 동작하는 한 가장 낮은 접근 수준을 부여

   접근제한자 종류

  - private
  - package-private(default) : 공개 API를 위한 내부 구현들. 내부 구현들에 대해 default로 해두면 나중에 리팩토링 할때 영향도가 적다.
  - protected :
  - public : 공개되는 API. 평생 관리가 필요하다.

   접근제한자를 좁히지 못하게 방해하는 제약

  - Override를 할때 상위 클래스의 접근 제어자보다 좁게 선언을 할수 없다.

1. public 클래스의 인스턴스 필드는 되도록 public이 아니여야 한다.
  - public이더라도 final을 붙여야 하고, final 대상은 “참조타입”이 아니여야 한다.

   → 참조타입이면 참조타입 내부의 값은 변경이 가능하여 final의 사용 의미가 사라진다.

   → Collection타입을 final을 붙일시 Collection.unmodifable을 사용하자



---